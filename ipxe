#!ipxe
:MENU
menu
item --gap -- ----------------Compudopt iPXE boot menu ----------------
item kramden   Ubuntu 22.04 (Kramden) Installation
item jammy     Ubuntu 22.04 (Vanilla) Installation
item lunar     Ubuntu 23.04 Installation
item shell      ipxe shell
choose --default return --timeout 20000 target && goto ${target}

:kramden

set base-url http://boot.linuxgroove.com/ubuntu/22.04
kernel ${base-url}/iso/casper/vmlinuz
initrd ${base-url}/iso/casper/initrd
imgargs vmlinuz initrd=initrd \
 ip=dhcp \
 url=${base-url}/ubuntu-22.04.2-live-server-amd64.iso \
 cloud-config-url=/dev/null \
 autoinstall \
 ds=nocloud-net;s=http://boot.linuxgroove.com/kramden/22.04/ \
echo Booting Ubuntu 22.04 installer...
boot
goto MENU

:jammy

set base-url http://boot.linuxgroove.com/ubuntu/22.04/iso
kernel ${base-url}/casper/vmlinuz
initrd ${base-url}/casper/initrd
imgargs vmlinuz initrd=initrd \
 ip=dhcp \
 url=${base-url}/ubuntu-22.04.2-live-server-amd64.iso \
 cloud-config-url=/dev/null \
 autoinstall \
 ds=nocloud-net;s=http://boot.linuxgroove.com/ubuntu/22.04/ \
echo Booting Ubuntu 22.04 installer...
boot
goto MENU

:lunar

set base-url http://boot.linuxgroove.com/ubuntu/23.04/iso
kernel ${base-url}/casper/vmlinuz
initrd ${base-url}/casper/initrd
imgargs vmlinuz initrd=initrd \
 ip=dhcp \
 iso-url=http://boot.linuxgroove.com/ubuntu/23.04/lunar-desktop-amd64.iso \
 fsck.mode=skip \
 layerfs-path=minimal.standard.live.squashfs \
 autoinstall \
 'ds=nocloud-net;s=http://boot.linuxgroove.com/ubuntu/23.04/' \
echo Booting Ubuntu 23.04 installer...
boot
goto MENU

:shell
shell ||
goto MENU

autoboot
